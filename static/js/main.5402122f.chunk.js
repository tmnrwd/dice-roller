(this["webpackJsonpdice-roller"]=this["webpackJsonpdice-roller"]||[]).push([[0],{23:function(e,a,t){e.exports=t(34)},28:function(e,a,t){},32:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(6),o=t.n(r),s=(t(28),t(10)),c=t(14),i=t(18),d=t(19),u=t(22),m=t(21),v=t(12),h=t(8),g=t(11),b=t(7),E=t(15),p=t(9),R=t(20),f=t(39),y=(t(31),t(32),1),k=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var l;return Object(i.a)(this,t),(l=a.call(this,e)).saveStateToLocalStorage=function(){for(var e in l.state)localStorage.setItem(e,JSON.stringify(l.state[e]))},l.setStateFromLocalStorage=function(){for(var e in l.state)if(localStorage.hasOwnProperty(e)){var a=localStorage.getItem(e);try{a=JSON.parse(a),l.setState(Object(c.a)({},e,a))}catch(t){l.setState(Object(c.a)({},e,a))}}},l.resetCheckBoxes=function(){l.setState({advantage:!1,saveRollAdvantage:!1,disadvantage:!1,saveRollDisadvantage:!1,explode:!1,saveRollExplode:!1,reroll:0,saveRollReroll:0})},l.clearLocalStorage=function(){localStorage.clear(),window.location.reload()},l.addCharacter=function(e){var a={character:e,dice:[{sides:4,diceRolled:1,key:Object(f.a)()},{sides:6,diceRolled:1,key:Object(f.a)()},{sides:8,diceRolled:1,key:Object(f.a)()},{sides:10,diceRolled:1,key:Object(f.a)()},{sides:12,diceRolled:1,key:Object(f.a)()},{sides:20,diceRolled:1,key:Object(f.a)()},{sides:100,diceRolled:1,key:Object(f.a)()}],addDie:2,modifier:0,diceRolled:1,history:[{max:20,result:1,mod:0,diceRolled:1,rolledArrayString:"1",key:0,label:"My d20 Roll",advantage:"advantage",advantageRolls:"1, 1"}],savedRolls:[{saveDiceRolled:2,sides:4,modifier:2,label:"Healing Potion"},{saveDiceRolled:1,sides:20,modifier:5,label:"Attack",advantage:"advantage"},{saveDiceRolled:10,sides:4,modifier:0,label:"Reroll 1s",advantage:"",reroll:1}],saveLabel:"",saveDiceRolled:1,saveRollSides:2,saveRollModifier:0,advantage:!1,saveRollAdvantage:!1,disadvantage:!1,saveRollDisadvantage:!1,explode:!1,saveRollExplode:!1,reroll:0,saveRollReroll:0};l.setState({characters:[].concat(Object(s.a)(l.state.characters),[a])})},l.setCharacter=function(e){for(var a=0;a<l.state.characters.length;a++)l.state.characters[a].character===e&&l.state.characters[a]},l.resetHistory=function(){l.setState({history:[{max:20,result:1,mod:0,diceRolled:1,rolledArrayString:"1",key:Date.now()}]})},l.diceRoll=function(e,a,t,r,o,c,i,d,u){e.preventDefault(),t||(t=l.state.diceRolled),r||(r=l.state.modifier),o||(o=l.state.advantage),u||(u=l.state.disadvantage),i||(i=l.state.explode),d||(d=l.state.reroll);for(var m,h,g,b,E=[],p=[],R=0;R<t;)m=l.getRandomInt(a),h=l.getRandomInt(a),o?h>m?(g=h,b=m):(g=m,b=h):u&&h<m?(g=h,b=m):(g=m,b=h),console.log("before reroll: ",g),g<=d&&(g=l.getRandomInt(a)),console.log("after reroll: ",g),E.push(g),p.push(" ".concat(g,", ").concat(b)),R++,!0===i&&g===a&&R--;var f=E.reduce((function(e,a){return e+a})),k=parseInt(f)+parseInt(r),D=E.join(", ");if(r>-1)Object(v.b)(n.a.createElement("div",null,t,"d",a," result: ",k,n.a.createElement("br",null),"(",D," + ",r,")",n.a.createElement("br",null),o&&!u?" Advantage rolls: ".concat(g,", ").concat(b):""," ",o&&u?" Advantage rolls: ".concat(g,", ").concat(b):""," ",u&&!o?"Disadvantage rolls: ".concat(g,", ").concat(b):""));else{var x=Math.abs(r);Object(v.b)(n.a.createElement("div",null,t,"d",a," result: ",k,n.a.createElement("br",null),"(",D," - ",x," )",n.a.createElement("br",null),o&&!u?" Advantage rolls: ".concat(g,", ").concat(b):""," ",o&&u?" Advantage rolls: ".concat(g,", ").concat(b):""," ",u&&!o?"Disadvantage rolls: ".concat(g,", ").concat(b):""))}var C={max:a,result:k,mod:r,diceRolled:t,rolledArrayString:D};if(o||u){var S=p.join("; ");C.advantageRolls=S,o&&(C.advantage="advantage"),u&&(C.advantage="disadvantage")}c&&(C.label=c),l.searchHistory(),C.key=y;var O=[].concat(Object(s.a)(l.state.history),[C]).sort((function(e,a){return e.key-a.key}));l.setState({history:O}),l.scrollToTop()},l.pushDie=function(){l.setState({dice:[].concat(Object(s.a)(l.state.dice),[{sides:l.state.addDie,diceRolled:l.state.diceRolled,key:Object(f.a)()}]),addDie:2,diceRolled:1})},l.deleteDie=function(e,a){e.preventDefault();var t=l.state.dice.indexOf(a);l.state.dice.splice(t,1),l.setState({dice:l.state.dice})},l.saveRoll=function(){l.setState({savedRolls:[].concat(Object(s.a)(l.state.savedRolls),[{saveDiceRolled:l.state.saveDiceRolled,sides:l.state.saveRollSides,modifier:l.state.saveRollModifier,advantage:l.state.saveRollAdvantage,disadvantage:l.state.saveRollDisadvantage,explode:l.state.saveRollExplode,label:l.state.saveLabel,reroll:l.state.saveRollReroll,key:Date.now()}]),saveLabel:"",saveRollReroll:0})},l.deleteRoll=function(e,a){e.preventDefault();var t=l.state.savedRolls.indexOf(a);l.state.savedRolls.splice(t,1),l.setState({savedRolls:l.state.savedRolls})},l.scrollToTop=function(){l.historyRef.current.scrollTop=0},l.handleChange=function(e){var a={};"advantage"===e.target.name||"disadvantage"===e.target.name||"explode"===e.target.name||"saveRollAdvantage"===e.target.name||"saveRollDisadvantage"===e.target.name||"saveRollExplode"===e.target.name?a[e.target.name]=!l.state[e.target.name]:a[e.target.name]=e.target.value,l.setState(a)},l.handleSubmit=function(e){e.preventDefault(),l.setState({dice:[].concat(Object(s.a)(l.state.dice),[l.state.addDie])})},l.historyRef=n.a.createRef(),l.state={character:"default",dice:[{sides:4,diceRolled:1,key:Object(f.a)()},{sides:6,diceRolled:1,key:Object(f.a)()},{sides:8,diceRolled:1,key:Object(f.a)()},{sides:10,diceRolled:1,key:Object(f.a)()},{sides:12,diceRolled:1,key:Object(f.a)()},{sides:20,diceRolled:1,key:Object(f.a)()},{sides:100,diceRolled:1,key:Object(f.a)()}],addDie:2,modifier:0,diceRolled:1,history:[{max:20,result:1,mod:0,diceRolled:1,rolledArrayString:"1",key:0,label:"My d20 Roll",advantage:"advantage",advantageRolls:"1, 1"}],savedRolls:[{saveDiceRolled:2,sides:4,modifier:2,label:"Healing Potion"},{saveDiceRolled:1,sides:20,modifier:5,label:"Attack",advantage:"advantage"},{saveDiceRolled:10,sides:4,modifier:0,label:"Reroll 1s",advantage:"",reroll:1}],label:"",saveLabel:"",saveDiceRolled:1,saveRollSides:2,saveRollModifier:0,advantage:!1,saveRollAdvantage:!1,disadvantage:!1,saveRollDisadvantage:!1,explode:!1,saveRollExplode:!1,reroll:0,saveRollReroll:0},l}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setStateFromLocalStorage(),this.resetCheckBoxes()}},{key:"getRandomInt",value:function(e){return Math.round(Math.random()*(e-1)+1)}},{key:"searchHistory",value:function(){for(var e=0;e<this.state.history.length;e++)this.state.history[e].key===y&&y++}},{key:"renderDice",value:function(){var e=this;return this.state.dice.map((function(a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{key:a.key},n.a.createElement("tbody",{className:"text-center"},n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("button",{className:"buttons",onClick:function(t){return e.diceRoll(t,a.sides,a.diceRolled,e.state.modifier,e.state.advantage,e.state.label,e.state.explode,e.state.reroll,e.state.disadvantage)}},a.diceRolled,"d",a.sides)),n.a.createElement("td",null,n.a.createElement("button",{className:"buttons",onClick:function(t){return e.deleteDie(t,a)}},"Remove"))))))}))}},{key:"showHistory",value:function(){var e=this;return this.state.history.reverse().map((function(a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{key:e.state.history.findIndex((function(e){return e.key===a.key}))},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,a.label),n.a.createElement("td",{className:"td-small"},a.diceRolled,"d",a.max),n.a.createElement("td",{className:"td-small"},a.result),n.a.createElement("td",null,"(",a.rolledArrayString," + ",a.mod,")"),n.a.createElement("td",null,"advantage"===a.advantage?"Advantage rolls: ".concat(a.advantageRolls):""," ","disadvantage"===a.advantage?"Disadvantage rolls: ".concat(a.advantageRolls):"")))))}))}},{key:"showSavedRolls",value:function(){var e=this;return this.state.savedRolls.map((function(a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{key:a.key},n.a.createElement("tbody",{className:"fixed-width-columns text-center"},n.a.createElement("tr",null,n.a.createElement("td",null,a.label),n.a.createElement("td",null,n.a.createElement("button",{className:"buttons",onClick:function(t){return e.diceRoll(t,a.sides,a.saveDiceRolled,a.modifier,a.advantage,a.label,a.explode,a.reroll)}},a.saveDiceRolled,"d",a.sides," + ",a.modifier)),n.a.createElement("td",null,a.advantage?"Advantage":n.a.createElement("i",null,"       ")," ",a.disadvantage?"Disadvantage":n.a.createElement("i",null,"       ")," ",a.explode?"Explode":n.a.createElement("i",null,"       ")),n.a.createElement("td",null,n.a.createElement("button",{className:"buttons",onClick:function(t){return e.deleteRoll(t,a)}},"Remove"))))))}))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{fluid:!0},n.a.createElement(v.a,null),n.a.createElement(E.a,null,n.a.createElement(R.a,null,n.a.createElement(p.a,null,n.a.createElement(b.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Dice"))),n.a.createElement("div",{className:"rolls-container"},this.renderDice())),n.a.createElement(g.a,null,n.a.createElement("label",null,n.a.createElement("u",null,"Roll Options"),n.a.createElement("br",null),"Modifier: ",n.a.createElement("br",null),n.a.createElement("input",{type:"number",name:"modifier",step:"1",value:this.state.modifier,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Reroll numbers up to: ",n.a.createElement("br",null),n.a.createElement("input",{type:"number",name:"reroll",min:"0",step:"1",value:this.state.reroll,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"advantageTip",className:"advantage-tooltip"},"Advantage:"),n.a.createElement(h.a,{id:"advantageTip",place:"top",effect:"solid"},"Rolls two dice and takes the higher number."),"\xa0",n.a.createElement("input",{type:"checkbox",name:"advantage",value:this.state.advantage,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"disadvantageTip",className:"disadvantage-tooltip"},"Disadvantage:"),n.a.createElement(h.a,{id:"disadvantageTip",place:"top",effect:"solid"},"Rolls two dice and takes the lower number."),"\xa0",n.a.createElement("input",{type:"checkbox",name:"disadvantage",value:this.state.disadvantage,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"explodeTip",className:"explode-tooltip"},"Explode:"),n.a.createElement(h.a,{id:"explodeTip",place:"top",effect:"solid"},"If the highest number is rolled on the die, an extra die is rolled and added to the total."),"\xa0",n.a.createElement("input",{type:"checkbox",name:"explode",value:this.state.explode,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("hr",null),n.a.createElement("u",null,"Add Custom Die"),n.a.createElement("br",null),"Number of dice to roll: ",n.a.createElement("br",null),n.a.createElement("input",{type:"number",name:"diceRolled",step:"1",value:this.state.diceRolled,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Custom die sides:",n.a.createElement("br",null),n.a.createElement("input",{type:"number",name:"addDie",min:"1",step:"1",value:this.state.addDie,onChange:function(a){return e.handleChange(a)}})),n.a.createElement("br",null),n.a.createElement("input",{type:"button",onClick:this.pushDie,value:"Add Custom Die"})),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement(p.a,null,n.a.createElement(b.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Saved Rolls"))),n.a.createElement("div",{className:"saved-rolls-container"},this.showSavedRolls())),n.a.createElement(g.a,null,n.a.createElement("label",null,n.a.createElement("u",null,"Save roll"),n.a.createElement("br",null),"Label:",n.a.createElement("br",null)," ",n.a.createElement("input",{type:"text",name:"saveLabel",value:this.state.saveLabel,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Number of dice to roll:",n.a.createElement("br",null)," ",n.a.createElement("input",{type:"number",name:"saveDiceRolled",min:"1",step:"1",value:this.state.saveDiceRolled,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Die sides:",n.a.createElement("br",null)," ",n.a.createElement("input",{type:"number",name:"saveRollSides",min:"1",step:"1",value:this.state.saveRollSides,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Modifier:",n.a.createElement("br",null)," ",n.a.createElement("input",{type:"number",name:"saveRollModifier",step:"1",value:this.state.saveRollModifier,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),"Reroll numbers up to:",n.a.createElement("br",null)," ",n.a.createElement("input",{type:"number",name:"saveRollReroll",min:"0",step:"1",value:this.state.saveRollReroll,onChange:function(a){return e.handleChange(a)}}),n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"advantageTip",className:"advantage-tooltip"},"Advantage:"),n.a.createElement(h.a,{id:"advantageTip",place:"top",effect:"solid"},"Rolls two dice and takes the higher number."),"\xa0",n.a.createElement("input",{type:"checkbox",name:"saveRollAdvantage",value:this.state.saveRollAdvantage,onChange:function(a){return e.handleChange(a)}}),this.state.saveRollAdvantage,n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"disadvantageTip",className:"disadvantage-tooltip"},"Disadvantage:"),n.a.createElement(h.a,{id:"disadvantageTip",place:"top",effect:"solid"},"Rolls two dice and takes the lower number."),"\xa0",n.a.createElement("input",{type:"checkbox",name:"saveRollDisadvantage",value:this.state.saveRollDisadvantage,onChange:function(a){return e.handleChange(a)}}),this.state.saveRollDisadvantage,n.a.createElement("br",null),n.a.createElement("nobr",{"data-tip":!0,"data-for":"explodeTip",className:"explode-tooltip"},"Explode:"),n.a.createElement(h.a,{id:"explodeTip",place:"top",effect:"solid"},"If the highest number is rolled on the die, an extra die is rolled and added to the total.")," \xa0 ",n.a.createElement("input",{type:"checkbox",name:"saveRollExplode",value:this.state.saveRollExplode,onChange:function(a){return e.handleChange(a)}}),this.state.saveRollExplode),n.a.createElement("br",null),n.a.createElement("input",{type:"button",onClick:this.saveRoll,value:"Save Roll"})),n.a.createElement("br",null)),n.a.createElement(p.a,null,n.a.createElement(b.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"History"))),n.a.createElement("div",{className:"history-container",ref:this.historyRef},this.showHistory())),n.a.createElement(g.a,null,n.a.createElement("label",null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{type:"button",onClick:this.saveStateToLocalStorage,value:"Save rolls, dice, and history"}),n.a.createElement("br",null),"If you save your custom dice, custom rolls, and roll history, they will be here when you come back to this page. Otherwise, you'll start afresh.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{type:"button",onClick:this.resetHistory,value:"Reset History"}),n.a.createElement("br",null),"This button resets the roll history to its original state.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{type:"button",onClick:this.clearLocalStorage,value:"Reset to Default"}),n.a.createElement("br",null),"This button resets your custom dice, custom rolls, and roll history to their original states.")))))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.5402122f.chunk.js.map